changeset:   51:479fe6a0a28a
tag:         tip
user:        Nick Rego <nbr2@pitt.edu>
date:        Thu Oct 03 15:18:07 2013 -0400
files:       w_zmqrouter.py work_managers/zeromq/router.py
description:
Minor change to w_zmqrouter.py logging config


changeset:   50:508d8104f544
user:        joshua.adelman <joshua.adelman@gmail.com>
date:        Wed May 22 10:52:19 2013 -0400
files:       test_work_managers/tsupport.py work_managers/core.py
description:
Updated copyright information


changeset:   49:94bada7b5dab
user:        Matt Zwier <mczwier@gmail.com>
date:        Wed May 01 10:22:13 2013 -0400
files:       work_managers/core.py
description:
Tweaks


changeset:   48:221ba5e863eb
user:        Matt Zwier <mczwier@gmail.com>
date:        Tue Apr 23 11:54:05 2013 -0400
files:       test_work_managers/test_environment.py test_work_managers/test_futures.py test_work_managers/test_processes.py test_work_managers/test_serial.py test_work_managers/test_threads.py test_work_managers/test_zeromq.py test_work_managers/test_zeromq_environ.py test_work_managers/tsupport.py work_managers/__init__.py work_managers/core.py work_managers/environment.py work_managers/mpi.py work_managers/processes.py work_managers/serial.py work_managers/threads.py work_managers/zeromq/__init__.py work_managers/zeromq/client.py work_managers/zeromq/core.py work_managers/zeromq/server.py work_managers/zeromq/work_manager.py
description:
Updated copyright information


changeset:   47:2f8491b4242b
parent:      46:944c4caaf849
parent:      45:a7841810035e
user:        Matt Zwier <mczwier@gmail.com>
date:        Sat Apr 20 21:43:55 2013 -0400
files:       work_managers/zeromq/client.py work_managers/zeromq/server.py
description:
Merging


changeset:   46:944c4caaf849
parent:      44:434b262db758
user:        Matt Zwier <mczwier@gmail.com>
date:        Sat Apr 20 21:43:25 2013 -0400
files:       AUTHORS COPYING test_work_managers/test_environment.py test_work_managers/test_futures.py test_work_managers/test_processes.py test_work_managers/test_serial.py test_work_managers/test_threads.py test_work_managers/test_zeromq.py test_work_managers/test_zeromq_environ.py test_work_managers/tsupport.py w_zmqrouter.py work_managers/__init__.py work_managers/core.py work_managers/environment.py work_managers/mpi.py work_managers/processes.py work_managers/serial.py work_managers/threads.py work_managers/zeromq/__init__.py work_managers/zeromq/client.py work_managers/zeromq/core.py work_managers/zeromq/router.py work_managers/zeromq/server.py work_managers/zeromq/work_manager.py
description:
Added copyright and license info. General cleanup.
Source files are (c) individual contributors; package is (c) MCZ and LTC.


changeset:   45:a7841810035e
user:        Nick Rego <nbr2@pitt.edu>
date:        Tue Apr 16 18:33:29 2013 -0400
files:       work_managers/zeromq/client.py work_managers/zeromq/server.py
description:
fixed a small bug with the zeromq server-client communication


changeset:   44:434b262db758
parent:      43:49a9d08474ec
parent:      42:dbeb689ac093
user:        Matt Zwier <mczwier@gmail.com>
date:        Tue Apr 09 22:33:50 2013 -0400
description:
Merging dbeb689ac093 and 49a9d08474ec


changeset:   43:49a9d08474ec
parent:      37:d00d9057a232
user:        Matt Zwier <mczwier@gmail.com>
date:        Tue Apr 09 22:27:39 2013 -0400
files:       test_work_managers/test_environment.py work_managers/environment.py
description:
Modified command line arguments to not require the "wm" prefix by default
(since they just seem to get in the way). Updated unit tests to match.


changeset:   42:dbeb689ac093
user:        Nick Rego <nbr2@pitt.edu>
date:        Wed Mar 27 20:51:22 2013 -0400
files:       test_work_managers/test_zeromq.py work_managers/zeromq/server.py
description:
added some coordination unit tests for the zmq work manager to test n_workers functionality


changeset:   41:202cfdcc96d3
user:        Nick Rego <nbr2@pitt.edu>
date:        Wed Mar 27 20:14:16 2013 -0400
files:       test_work_managers/test_zeromq.py work_managers/zeromq/client.py work_managers/zeromq/router.py work_managers/zeromq/server.py
description:
ZMQWorkManager (as server) can dynamically determine the number of active client nodes and total number of worker processes it's associated with; also added some appropriate unit tests


changeset:   40:5bdef788b56e
parent:      39:230a8de83e83
parent:      37:d00d9057a232
user:        Nick Rego <nbr2@pitt.edu>
date:        Tue Mar 26 12:12:44 2013 -0400
description:
after merge


changeset:   39:230a8de83e83
user:        Nick Rego <nbr2@pitt.edu>
date:        Tue Mar 26 12:12:03 2013 -0400
files:       test_work_managers/test_zeromq.py test_work_managers/test_zeromq_environ.py work_managers/zeromq/client.py work_managers/zeromq/router.py work_managers/zeromq/server.py work_managers/zeromq/work_manager.py
description:
zmq work managers now accept a 4th endpoint for server-client listening socket; modified zmq unit tests to account for this


changeset:   38:8eed9cfe4fd0
parent:      34:e5a292817372
user:        Nick Rego <nbr2@pitt.edu>
date:        Tue Mar 05 13:40:23 2013 -0500
files:       work_managers/zeromq/router.py work_managers/zeromq/work_manager.py
description:
edited wording of zmq command line args


changeset:   37:d00d9057a232
user:        Matt Zwier <mczwier@gmail.com>
date:        Tue Mar 26 12:06:20 2013 -0400
files:       work_managers/core.py
description:
Honor ``discard`` flag (whoops) on ``WMFuture.get_result()``


changeset:   36:f1482510f80c
user:        Matt Zwier <mczwier@gmail.com>
date:        Tue Mar 26 11:40:15 2013 -0400
files:       work_managers/core.py work_managers/serial.py
description:
Added ``n_workers`` attribute to serial work manager, and created a docstring on WorkManager (in core.py) to note that n_workers is a required attribute.


changeset:   35:976c1f00d202
user:        Matt Zwier <mczwier@gmail.com>
date:        Mon Mar 25 15:01:58 2013 -0400
files:       test_work_managers/test_futures.py work_managers/core.py
description:
Added option ``discard`` (defaulting to False) to WMFuture.get_result, so that
when used, a list of outstanding futures does not automatically turn into a
cache of results.


changeset:   34:e5a292817372
user:        Matt Zwier <mczwier@gmail.com>
date:        Fri Mar 01 13:24:10 2013 -0500
files:       work_managers/__init__.py work_managers/mpi.py
description:
Fixed broken MPI environment integration.


changeset:   33:0fb9e621294b
parent:      31:91a7df954361
parent:      32:a2300b91475a
user:        Matt Zwier <mczwier@gmail.com>
date:        Fri Mar 01 13:10:44 2013 -0500
files:       work_managers/__init__.py work_managers/mpi.py
description:
Merging a2300b91475a (MPI work manager)


changeset:   32:a2300b91475a
parent:      24:0cd422402f8c
user:        Matt Zwier <mczwier@gmail.com>
date:        Fri Mar 01 12:55:29 2013 -0500
files:       work_managers/__init__.py work_managers/mpi.py
description:
Imported MPI work manager courtesy of Kim Wong (kimwong@pitt.edu)


changeset:   31:91a7df954361
user:        Nick Rego <nbr2@pitt.edu>
date:        Tue Feb 26 17:50:05 2013 -0500
files:       test_work_managers/test_zeromq.py test_work_managers/test_zeromq_environ.py w_zmqrouter.py work_managers/__init__.py work_managers/zeromq/__init__.py work_managers/zeromq/client.py work_managers/zeromq/router.py work_managers/zeromq/work_manager.py
description:
Added ZMQ Router class for use with ZMQ work manager.  Added relevant unit tests for router.  Split up zeromq unit tests to test core functionality and environment initialization separately.


changeset:   30:6bae13b7a06a
parent:      29:576e40485177
parent:      28:8dd6f0369366
user:        Matt Zwier <mczwier@gmail.com>
date:        Tue Feb 12 14:02:45 2013 -0500
description:
Merged changesets 8dd6f0369366 and 576e40485177


changeset:   29:576e40485177
parent:      27:cef7bb3e4e03
user:        Matt Zwier <mczwier@gmail.com>
date:        Tue Feb 12 14:01:29 2013 -0500
files:       work_managers/zeromq/server.py
description:
Properly removed tasks from "pending" list when results received. Resolves wwmgr issue #10.


changeset:   28:8dd6f0369366
user:        joshua.adelman <joshua.adelman@gmail.com>
date:        Wed Feb 06 15:58:46 2013 -0500
files:       test_work_managers/tsupport.py work_managers/core.py
description:
Added submit_as_completed() method to core and add() method to FutureWatcher


changeset:   27:cef7bb3e4e03
user:        Matt Zwier <mczwier@gmail.com>
date:        Fri Jan 18 13:37:40 2013 -0500
files:       test_work_managers/test_zeromq.py work_managers/zeromq.py work_managers/zeromq/__init__.py work_managers/zeromq/client.py work_managers/zeromq/core.py work_managers/zeromq/server.py work_managers/zeromq/work_manager.py
description:
Split ZMQ work manager into multiple files, added command-line/environment options for all tunables. NB that constructor argument lists have changed for ZMQClient, ZMQServer, and ZMQWorkManager


changeset:   26:b5e95e6283fa
user:        Matt Zwier <mczwier@gmail.com>
date:        Thu Jan 17 13:13:38 2013 -0500
files:       .hgignore test_work_managers/test_zeromq.py test_work_managers/tsupport.py work_managers/core.py work_managers/processes.py work_managers/serial.py work_managers/threads.py work_managers/zeromq.py
description:
Changed submit() interface to (eventually) support keyword options separate from those passed along to the task function to execute. Rewrote ZMQ wire protocol to use REQ/REP instead of PUSH/PULL for tasks and results, to provide an opportunity for keepalive pulses so that long-idle connections do not result in lost messages and hangs when those connections are forcefully terminated (presumably by a switch).


changeset:   25:8a5c74d01c2a
user:        Matt Zwier <mczwier@gmail.com>
date:        Tue Jan 15 15:46:30 2013 -0500
files:       test_work_managers/test_zeromq.py work_managers/zeromq.py
description:
Added a function to close cached inproc sockets to prevent ZMQ aborts during unit tests.


changeset:   24:0cd422402f8c
user:        Matt Zwier <mczwier@gmail.com>
date:        Sat Nov 24 12:10:18 2012 -0500
files:       test_work_managers/test_zeromq.py work_managers/zeromq.py
description:
Added command-line option and environment variable for ZMQ server timeout. Removed remarkably useless zmq_comm_mode (which should have been client-specific anyway).


changeset:   23:4781e20ba4df
user:        Matt Zwier <mczwier@gmail.com>
date:        Mon Nov 05 11:07:07 2012 -0500
files:       test_work_managers/test_zeromq.py work_managers/zeromq.py
description:
ZMQ: Fixed "too many open files" error triggered by submitting many tasks using submit() instead of submit_many(), by keeping an open control socket for each thread using _signal_thread.
ZMQ: Made server task dispatch thread dispatch one task per submit()-generated task announcement exactly as many tasks submitted using submit_many(), removing the requirement for a poll timeout in the task dispatch loop.


changeset:   22:c7115d8f7d29
user:        Matt Zwier <mczwier@gmail.com>
date:        Thu Oct 18 17:31:11 2012 -0400
files:       work_managers/zeromq.py
description:
Fixed seriously stupid bug in server ping code that led to constant pings and
pegged CPU on both server and client. Added better debugging messages.


changeset:   21:30909438b5dc
user:        Matt Zwier <mczwier@gmail.com>
date:        Fri Sep 28 14:10:57 2012 -0400
files:       test_work_managers/test_processes.py test_work_managers/test_zeromq.py test_work_managers/tsupport.py work_managers/processes.py work_managers/zeromq.py
description:
Added WM_PROCESS_ID to processes and zmq work managers (resolves issue #5).


changeset:   20:a023dd6b1774
user:        Matt Zwier <mczwier@gmail.com>
date:        Sat Sep 15 15:08:41 2012 -0400
files:       work_managers/core.py work_managers/processes.py work_managers/threads.py work_managers/zeromq.py
description:
Added instance variable WorkManager.running and tests in startup/shutdown for whether the work manager is running. Added envirionment support for ZMQ hangcheck timeout.


changeset:   19:4159d6008cba
user:        Matt Zwier <mczwier@gmail.com>
date:        Thu Sep 13 18:53:31 2012 -0400
files:       work_managers/environment.py
description:
Added list of valid work managers to command line help.


changeset:   18:a5c81b23fb28
user:        Matt Zwier <mczwier@gmail.com>
date:        Thu Sep 13 15:29:52 2012 -0400
files:       test_work_managers/test_environment.py test_work_managers/test_zeromq.py work_managers/__init__.py work_managers/core.py work_managers/environment.py work_managers/processes.py work_managers/serial.py work_managers/threads.py work_managers/zeromq.py
description:
Reworked environment variable handling, added support for command-line argument parsing.


changeset:   17:d825fd586401
user:        Matt Zwier <mczwier@gmail.com>
date:        Sat Aug 11 22:17:48 2012 -0400
files:       test_work_managers/test_processes.py work_managers/__init__.py work_managers/core.py work_managers/processes.py work_managers/zeromq.py
description:
Updates for WEMD integration: client-mode startup for ZMQWorkManager


changeset:   16:c04c800ca755
user:        Matt Zwier <mczwier@gmail.com>
date:        Fri Aug 10 15:57:51 2012 -0400
files:       test_work_managers/test_environment.py test_work_managers/test_zeromq.py work_managers/__init__.py work_managers/core.py work_managers/environment.py work_managers/zeromq.py
description:
Nearly complete framework, with only client script remaining.


changeset:   15:2f3f56c2ce04
parent:      13:884849b6f771
parent:      14:904dc1b08742
user:        Matt Zwier <mczwier@gmail.com>
date:        Fri Aug 10 10:32:28 2012 -0400
files:       test_work_managers/test_zeromq.py test_work_managers/tsupport.py work_managers/zeromq.py
description:
Merge with 904dc1b0874240f6aebf7e6cfaa665acde050794


changeset:   14:904dc1b08742
parent:      5:2215018ae680
user:        mczwier
date:        Tue May 22 12:34:38 2012 -0400
files:       test_work_managers/test_zeromq.py test_work_managers/tsupport.py work_managers/zeromq.py
description:
Working commit


changeset:   13:884849b6f771
user:        Matt Zwier <mczwier@gmail.com>
date:        Fri Aug 10 10:30:33 2012 -0400
files:       work_managers/__init__.py work_managers/core.py work_managers/environment.py work_managers/processes.py work_managers/serial.py work_managers/threads.py work_managers/zeromq.py
description:
Beginnings of updated startup/environment for work managers


changeset:   12:ec1dd0ed4209
user:        Matt Zwier <mczwier@gmail.com>
date:        Fri Aug 10 00:04:25 2012 -0400
files:       test_work_managers/test_futures.py test_work_managers/test_processes.py test_work_managers/test_serial.py test_work_managers/test_threads.py test_work_managers/test_zeromq.py test_work_managers/tsupport.py work_managers/__init__.py work_managers/processes.py work_managers/threads.py work_managers/zeromq.py
description:
ZMQ almost done; restructured tests to factor out common tests.


changeset:   11:86c5a7bca210
user:        Matt Zwier <mczwier@gmail.com>
date:        Thu Aug 09 22:27:02 2012 -0400
files:       test_work_managers/test_zeromq.py work_managers/zeromq.py
description:
Randomized ports for testing to elminate mysterious TCP collisions.


changeset:   10:773f421b784b
user:        Matt Zwier <mczwier@gmail.com>
date:        Thu Aug 09 18:05:43 2012 -0400
files:       test_work_managers/test_zeromq.py work_managers/__init__.py work_managers/zeromq.py
description:
Autokill of hung workers, with error reporting, works.


changeset:   9:16549e5f95d4
user:        Matt Zwier <mczwier@gmail.com>
date:        Thu Aug 09 15:25:29 2012 -0400
files:       test_work_managers/test_zeromq.py work_managers/ops.py work_managers/zeromq.py
description:
Made client task forwarder capable of exiting; eliminated ops.py leftover from initial WEMD import.


changeset:   8:8908c35e05b0
user:        Matt Zwier <mczwier@gmail.com>
date:        Thu Aug 09 14:19:42 2012 -0400
files:       test_work_managers/test_zeromq.py work_managers/zeromq.py
description:
ZMQ: Components appear to work independently.


changeset:   7:4eb3d74ed9d4
user:        Matt Zwier <mczwier@gmail.com>
date:        Thu Aug 09 11:50:41 2012 -0400
files:       test_work_managers/test_zeromq.py work_managers/__init__.py work_managers/zeromq.py
description:
ZMQ work in progress: client starts up/shuts down cleanly (now to make it work)


changeset:   6:3376d5401d3b
user:        Matt Zwier <mczwier@gmail.com>
date:        Wed Aug 08 10:25:23 2012 -0400
files:       test_work_managers/test_zeromq.py work_managers/zeromq.py
description:
Continued work on zeromq work manager; working client process.


changeset:   5:2215018ae680
user:        Matt Zwier <mczwier@gmail.com>
date:        Fri May 18 14:56:08 2012 -0400
files:       test_work_managers/test_zeromq.py work_managers/zeromq.py
description:
working commit


changeset:   4:0ad8df9b332c
user:        Matt Zwier <mczwier@gmail.com>
date:        Thu May 03 13:13:17 2012 -0400
files:       test_work_managers/test_zeromq.py work_managers/zeromq.py
description:
Working commit.


changeset:   3:c6754a48b14d
user:        Matt Zwier <mczwier@gmail.com>
date:        Sat Apr 28 15:29:47 2012 -0400
files:       work_managers/zeromq.py
description:
zmq work in progress


changeset:   2:e93e207962d9
user:        Matt Zwier <mczwier@gmail.com>
date:        Sat Apr 28 15:00:45 2012 -0400
files:       test_work_managers/__init__.py test_work_managers/test_zeromq.py work_managers/__init__.py work_managers/processes.py work_managers/zeromq.py
description:
More zmq work manager work and associated tests.


changeset:   1:2199d2a347ec
user:        Matt Zwier <mczwier@gmail.com>
date:        Sat Apr 28 01:59:00 2012 -0400
files:       test_work_managers/__init__.py test_work_managers/test_processes.py test_work_managers/test_serial.py test_work_managers/test_threads.py test_work_managers/test_zeromq.py test_work_managers/tsupport.py work_managers/__init__.py work_managers/processes.py work_managers/serial.py work_managers/threads.py work_managers/zeromq.py
description:
Initial commit of test cases and partial ZMQ implementation.


changeset:   0:8b603ff60077
user:        Matt Zwier <mczwier@gmail.com>
date:        Thu Apr 26 21:22:36 2012 -0400
files:       work_managers/__init__.py work_managers/ops.py work_managers/processes.py work_managers/serial.py work_managers/threads.py work_managers/zeromq.py
description:
Initial import of work_managers package from wemd_feat.


